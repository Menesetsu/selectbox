<!doctype html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Test</title>
	<script src="../../../lib/es5-shim/es5-shim.js"></script>
	<script type="text/javascript" src="../../../lib/object-array-utils/src/array.js"></script>
	<script type="text/javascript" src="../../../lib/object-array-utils/src/object.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.core.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.bem.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.date.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.dom.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.event.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.measure.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.string.js"></script>
	<script type="text/javascript" src="../../../lib/dxjs/src/dx.tmpl.js"></script>
	<script type="text/javascript" src="../../../lib/dropdown/src/js/dropdown.js"></script>
	<script type="text/javascript" src="../../../src/js/selectbox.js"></script>
	<link rel="stylesheet" media="all" href="../../../test/css/selectBox.css">
	<link rel="stylesheet" media="all" href="../../../test/css/dropDown.css">

</head>
<body>
<button id="Init">Init</button>
<button id="DestroyWithEvent">Destroy with event</button>
<button id="DestroyWithInstance">Destroy with instance</button>

<select name="test" id="test">
	<option value="1" class="opt1">first</option>
	<option value="2" class="opt2">second</option>
	<option value="3" class="opt3">last</option>
</select>

<script type="text/javascript">
	var select = document.getElementById('test'),
		theSelectBox,
		buttonInit = DX.$('Init'),
		buttonDestroyWithEvent = DX.$('DestroyWithEvent'),
		buttonDestroyWithInstance = DX.$('DestroyWithInstance');

	buttonInit.addEventListener('click', function() {
		if (typeof theSelectBox === 'undefined') {
			theSelectBox = new Selectbox(select);
		}
	});

	buttonDestroyWithInstance.addEventListener('click', function() {
		if (typeof theSelectBox !== 'undefined') {
			theSelectBox.destroy();
			theSelectBox = undefined;
		}
	});

	buttonDestroyWithEvent.addEventListener('click', function() {
		DX.Event.trigger(select, Selectbox.E_DESTROY);
		theSelectBox = undefined;
	});
</script>
</body>
</html>
